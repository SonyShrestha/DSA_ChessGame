------------------------------------ Validate hasOpening(chess_game,chess_game) functionality ---------------------------------
/*
Returns true if the first chess game starts with the exact same set of moves as the second chess game.
*/

SELECT hasOpening('1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. d3', '1. e4 e5 2. Nf3 Nc6');
/* 
Output
 hasopening
------------
 t
(1 row)
*/


SELECT hasOpening('1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. d3', '1. Nf3 c6 2. a3 d6');
/* 
Output
 hasopening
------------
 f
(1 row)
*/




-------------------------------- Return all games from the table chessgame which opened with moves given by 1. e4 d6 2. h4 h6 ------------
SELECT * FROM chessgame WHERE hasOpening(pgn,'1. e4 d6') LIMIT 10;

/*
Output
pgn                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 1. e4 d5 2. Nc3 Nh6 3. Qf3 Qd7 4. Qf4 Na6 5. Qxc7 Nb4 6. Qa5 Qe6 7. b3 Qd6 8. Nh3 Qf6 9. Qd8+ Kxd8 10. exd5 e5 11. Ng5 Qb6 12. Rg1 Be7 13. Kd1 Bxg5 14. f4 Nf5 15. Ba3 Nh6 16. fxg5 Ke7 17. g6 Qc7 18. Ke1 Be6 19. Bxb4+ Qd6 20. a4 hxg6 21. Nb1 Rhc8 22. h4 Nf5 23. a5 Kd7 24. c3 Kc7 25. Bd3 f6 26. g3 Nh6 27. Kd1 Qd8 28. Bd6+ Qxd6 29. Kc2 Qc6 30. Rd1 Rab8 31. Be2 a6 32. Bh5 Qb5 33. Re1 Bd7 34. Rc1 Qc6 35. Kb2 Rf8 36. Ra3 Be6 37. Rd1 Ng8 38. Ra1 Rbe8 39. c4 Re7 40. dxe6 Rxe6 41. Ra2 Rd8 42. d4 Qe4 43. Be2 exd4 44. Ra3 Qe3 45. b4 R8d6 46. Rd2 Qxg3 47. Ra1 Qh3 48. Kc1 Qd3 49. Na3 Kc6 50. Bf3+ Qxf3 51. Rh2 Re7 52. h5 R6d7 53. hxg6 Qh1+ 54. Kd2 Qf1 55. Rf2 Qe2+ 56. Rxe2 d3 57. Re3 Rc7 58. Re5 Re8 59. Rxe8 Rc8 60. Ke3 Rd8 61. b5+ Kd7 62. Re5 Rb8 63. Rd5+ Ke8 64. Rc1 b6 65. Kf4 d2 66. Kf3 Rc8 67. Kg3 Rb8 68. Kg2 Kf8 69. Rd8+ Rxd8 70. Nb1 Re8 71. c5 d1=B 72. Kh2 Re7 73. axb6 Nh6 74. Kg2 Rf7 75. bxa6 Bb3 76. a7 Rxa7 77. Kh1 Ba4 78. Rc3 Bd7 79. Rc4 Bf5 80. Ra4 Bh3 81. c6 Bf1 82. Na3 Be2 83. c7 Bf3+ 84. Kg1 Rxa4 85. Kf1 Rg4 86. Nb5 Rg3 87. Kf2 Be2 88. Ke1 Bh5 89. Na3 Bg4 90. c8=R+ Bxc8 91. Nb1 Ra3 92. Ke2 Ra2+ 93. Kf3 Nf7 94. b7 Ra8 95. Nd2 Bg4+ 96. Ke3 Ra6 97. Ne4 Nh8 98. Nxf6 Rd6 99. Nd7+ Kg8 100. Nb6 Rd5 101. Nc8 Bh5 102. Nb6 Rg5 103. Kd2 Rc5 104. b8=R+ Rc8 105. Ra8 Bf3 106. Nc4 Bh5 107. Na5 Nf7 108. Kd3 Bf3 109. gxf7+ Kh8 110. Ra6 Bg4 111. Kd2 Bh3 112. Kd3 g6 113. f8=Q+ Rxf8 114. Nc4 Rf4 115. Ra8+ Bc8 116. Na3 g5 117. Ke2 Rd4 118. Ke1 Rb4 119. Kf2 Kh7 120. Ke3 Rb1 121. Nb5 Kh6 122. Ra6+ Kh5 123. Rb6 Rb3+ 124. Kf2 Kh4 125. Nc7 Bd7 126. Rd6 Rb2+ 127. Kf1 Rg2 128. Re6 Rc2
 1. e4 d5 2. exd5 h5 3. h4 e5 4. Bb5+ Bd7 5. Qg4 e4 6. Na3 Rh7 7. Bd3 b6 8. b3 Qe7 9. Kf1 Rh6 10. Ne2 g5 11. Qf3 Rd6 12. Bb5 Qf6 13. d3 Bg7 14. dxe4 Ke7 15. Qxh5 Qf4 16. Ba4 Rc6 17. Bb5 Bf5 18. Bc4 Be5 19. Bb5 Rd6 20. Nb1 a5 21. Rh3 Bc8 22. Ng3 Rg6 23. Nh1 Qxh4 24. Qf3 Qh8 25. Nc3 Qf6 26. Rb1 Qg7 27. g4 Nc6 28. Qe3 Qh8 29. Bxc6 Bxg4 30. Qc5+ Rd6 31. Re3 Nh6 32. Bxa8 Bg7 33. Nd1 Qd8 34. Qxc7+ Qxc7 35. b4 Bh3+ 36. Rxh3 Rd8 37. Rb2 Nf5 38. R2b3 Nh4 39. Rhf3 Ng6 40. c3 Bxc3 41. Be3 b5 42. Rf6 Rg8 43. Bd4 Qh2 44. Rf5 Qf4 45. Bb7 Kd8 46. Ba6 Qb8 47. Rxf7 Qd6 48. Rb2 Bxd4 49. Bb7 Bb6 50. f4 Ba7 51. Re7 a4 52. e5 Nh8 53. Rh2 Qg6 54. Re2 Bc5 55. Ba6 Bd4 56. Re1 Qf7 57. Rxf7 Ng6 58. Re2 Bxe5 59. Kg2 Rf8 60. Re4 Bh8 61. Bb7 Ba1 62. Kh3 Re8 63. Ba8 g4+ 64. Kxg4 Rh8 65. Bb7 Bb2 66. Rf6 Re8 67. Kh5 Bd4 68. Ndf2 Ba1 69. f5 Rf8 70. Rxg6 Re8 71. Nh3 Rh8+ 72. Rh6 Bf6 73. Ba6 Be5 74. Rxh8+ Kd7 75. Bc8+ Kc7 76. Rg4 Bd4 77. Kg6 Bc5 78. Kg7 Bg1 79. Rg8 Bb6 80. Kg6 Bd4 81. Rh8 Kb6 82. Kh6 Be3+ 83. Kg6 Bf2 84. Kh6 Bd4 85. Rhg8 Ka7 86. a3 Bh8 87. Rd8 Bd4 88. Ng3 Ba1 89. Nh5 Bb2 90. Nhf4 Bh8 91. d6 Bc3 92. Re8 Bg7+ 93. Kh5 Bh6 94. R4g8 Kb6 95. Ba6 Bg5 96. Rc8 Bd8 97. Rg6 Bf6 98. Ng1 Bd4 99. Rb8+ Kxa6 100. Ra8+ Kb6 101. Rf8 Bxg1 102. Rg5 Ka7 103. Rg3 Kb7 104. Kg4 Kb6 105. Rg8 Bh2 106. Re3 Kc6 107. Re1 Kxd6 108. Nh3 Bf4 109. Re7 Bg3 110. Ra7 Ke5 111. Re7+ Kd6 112. Rh8 Be5 113. Kh5 Bg3 114. Re6+ Kd5 115. Reh6 Bd6 116. R6h7 Bxb4 117. Rf7 Kc4 118. Kg5 Kd5 119. Rb7 Kc4 120. Rg7 Bd2+ 121. Kf6 Bh6 122. Rg5 Bxg5+ 123. Ke5 Kc5 124. Rh7 Bd8 125. f6 Be7 126. Rh6 Kb6 127. Ng5 Bxf6+ 128. Kf5 Kc7
 1. e4 d5 2. d3 Nh6 3. Kd2 Be6 4. c4 Nf5 5. b3 dxe4 6. Qf3 Rg8 7. g3 Nh6 8. a3 Bc8 9. Ra2 Qd7 10. a4 Rh8 11. Ke1 Ng8 12. Nh3 e5 13. Kd1 f5 14. Bh6 Qd6 15. Nc3 c5 16. d4 Qc7 17. Nb1 Kd7 18. Qxf5+ Ke8 19. Rb2 Be7 20. b4 Qa5 21. Ng1 Bf8 22. Qf3 exd4 23. Bd2 Ke7 24. Na3 g6 25. Qc3 Bh6 26. Qb3 Qxb4 27. Be3 Kd7 28. Bd2 Qc3 29. h3 Bxd2 30. Qc2 Qe3 31. Qxd2 Qe2+ 32. Qxe2 Ke6 33. Rxb7 Nf6 34. Qe1 Nfd7 35. Qe3 dxe3 36. Rh2 Rd8 37. Kc1 Bxb7 38. Kb2 Ke7 39. Ka1 Rf8 40. g4 Rg8 41. Nc2 Rd8 42. f4 Re8 43. Nd4 Kf6 44. h4 Ba6 45. h5 cxd4 46. Kb2 g5 47. Kb1 Rh8 48. Rh4 e2 49. Rh1 Rf8 50. Ka2 Nb6 51. Ka1 h6 52. Rh2 exf1=Q+ 53. Kb2 Rf7 54. c5 Qd3 55. Ka1 Nc4 56. Rb2 Na3 57. Rb3 Qd2 58. c6 Qc3+ 59. Rb2 Ke7 60. Ne2 Qd3 61. Ra2 Nxc6 62. Rxa3 Qh3 63. Nc1 Kd7 64. Na2 Bb5 65. Rf3 Nd8 66. Rf1 Rxf4 67. Kb2 Ke6 68. Rxf4 Be2 69. Kb1 Rc8 70. Rxe4+ Kd7 71. Re3 Rc1+ 72. Kb2 Bf1 73. a5 Bb5 74. Ra3 Be2 75. Kxc1 Qb3 76. Rxb3 Ke6 77. Rg3 Bxg4 78. Re3+ Kd6 79. a6 Kc6 80. Rf3 Kb5 81. Nc3+ Ka5 82. Nb5 Kb4 83. Nd6 Ka4 84. Rg3 Bd7 85. Rb3 Ne6 86. Rc3 Nf4 87. Rg3 Be6 88. Rc3 Ng6 89. Rc2 Ka3 90. Nc8 Bd5 91. Ne7 Bc4 92. Rg2 g4 93. Rg1 Bxa6 94. Nc8 Nh8 95. Kb1 Kb3 96. Ne7 Ka3 97. Ng6 Bc8 98. Rd1 Bf5+ 99. Ka1 Kb3 100. Ne5 a5 101. Rg1 Be4 102. Nxg4 Kc4 103. Ka2 Kd3 104. Kb3 a4+ 105. Kb2 Bh7 106. Rg2 Bf5 107. Ne5+ Ke4 108. Nc4 Be6 109. Ka3 Bh3 110. Nd2+ Kd3 111. Rg3+ Kc2 112. Rg5 Bf1 113. Nf3 d3 114. Ne1+ Kd1 115. Kxa4 Nf7 116. Rg8 Kxe1 117. Rg5 Ne5 118. Rg8 Kd2 119. Ra8 Be2 120. Rg8 Bd1+ 121. Ka3 Nd7 122. Rg5 Kc2 123. Rb5 Bxh5 124. Rb2+ Kc1 125. Ra2 Nb6 126. Re2 Nc8 127. Rf2 Bf7 128. Rf5 Ne7
 1. e4 d6 2. g4 Nc6 3. Ke2 g6 4. Ke3 Bd7 5. a4 Bc8 6. Kf4 e6 7. Be2 Bh6+ 8. g5 Na5 9. Nf3 Kf8 10. Ne1 Bd7 11. gxh6 Bc6 12. Nc3 e5+ 13. Kg4 Nf6+ 14. Kg3 Ke7 15. Bd3 d5 16. b3 Ne8 17. Bc4 dxe4 18. Nf3 Rc8 19. Nb5 f5 20. c3 Qd6 21. Qe2 Qe6 22. Rf1 Bd7 23. Re1 c5 24. Ra3 f4+ 25. Kh4 Kf8 26. Nbd4 Qc6 27. Ra2 Nc7 28. Bf7 Ke7 29. Qc4 Bh3 30. Nxe5 Qe8 31. Rxe4 Qg8 32. Be6 b6 33. Qb5 Na8 34. Nf7 Bf5 35. Bxf5+ Kf8 36. Qxc5+ Rxc5 37. Re2 gxf5 38. Re3 Re5 39. Ng5 Re6 40. Bb2 Ke7 41. Ne2 Kf8 42. Re5 Rc6 43. d3 b5 44. d4 Qg6 45. Nxf4 Nb7 46. b4 Qg8 47. Bc1 Nc7 48. Ng2 a5 49. Rxf5+ Rf6 50. f3 Qc4 51. Kh5 Ke8 52. Re2+ Kd7 53. Nf4 axb4 54. axb5 Na6 55. Rc2 Qe6 56. d5 bxc3 57. Re2 Qe7 58. d6 Ke8 59. Rb2 Qe5 60. Rb1 Nb8 61. Nd3 Rxd6 62. Nxh7 Qd4 63. h3 c2 64. Rg5 Rg6 65. Nb4 Qg1 66. Rd5 Rf6 67. Na2 Qh1 68. Rd3 Nc5 69. Nb4 Kf7 70. Ng5+ Ke7 71. Ra1 Rh7 72. Ra2 Qxc1 73. Rd2 Na4 74. Nd3 Ke8 75. Nf4 Rd7 76. Ra3 Rc6 77. Ra2 Nb2 78. bxc6 Na6 79. Nge6 Qb1 80. Rxb2 Qa2 81. Rbxc2 Rxd2 82. c7 Rd1 83. Rb2 Rd4 84. Kh4 Ra4 85. c8=N Nc5 86. Rxa2 Nd3 87. Ra3 Rd4 88. Kg4 Re4 89. Rb3 Rb4 90. Kh4 Rb6 91. h7 Rb7 92. Rxb7 Ne5 93. h8=Q#
 1. e4 d5 2. d3 Qd7 3. Be2 Qa4 4. a3 Bg4 5. e5 Nc6 6. Nc3 Qa6 7. Be3 Qxd3 8. Nb1 Nd4 9. f3 f6 10. exf6 Ne6 11. fxe7 d4 12. h3 h6 13. Bc1 Nc5 14. h4 Qc3+ 15. Nxc3 Bc8 16. b3 Rh7 17. Qd2 b6 18. a4 a5 19. Nd5 Na6 20. Nxc7+ Kf7 21. Qe3 h5 22. Bd3 Nh6 23. Rb1 Bf5 24. c4 dxc3 25. Rb2 Rd8 26. Qd4 Rh8 27. Be2 Kg6 28. Nd5 Be4 29. e8=N Nf5 30. Kf2 Nc7 31. Be3 Rd6 32. Qc4 Na8 33. Nxd6 Bc2 34. Bxb6 Nc7 35. Rh3 Ne8 36. Ba7 Bd3 37. Ne7+ Kh7 38. g3 Nd4 39. Qd5 Nf5 40. Qf7 Nf6 41. Bd4 Ne4+ 42. Nxe4 Ne3 43. Bd1 Bxe4 44. Nf5 Bb4 45. Qxg7#
 1. e4 d5 2. h4 Bd7 3. f4 c6 4. h5 Qa5 5. e5 Qa3 6. Ne2 Qa5 7. a4 Bh3 8. Kf2 Qc3 9. b4 Bxg2 10. Nbxc3 Bf3 11. Na2 Nh6 12. Qe1 Bxh1 13. Nd4 b6 14. Nb5 Kd8 15. Ke2 Ng4 16. e6 g6 17. Qf2 Nh6 18. Nd6 Be4 19. Qxb6+ axb6 20. exf7 Kc7 21. Kd1 Ra7 22. Nxe4 Ra8 23. c3 Na6 24. Kc2 Nxf7 25. Nc5 d4 26. Bb2 Nd8 27. cxd4 Ne6 28. Ne4 Nac5 29. Bc3 Kd8 30. Kd1 g5 31. Nxg5 Nc7 32. Ke2 Ra6 33. b5 Nxa4 34. Ke1 Nxc3 35. Nh3 c5 36. dxc5 Ne6 37. Nxc3 Ra4 38. cxb6 Ng5 39. Ke2 Ra8 40. Ra7 Nxh3 41. Kf3 Rc8 42. Ne2 Rc2 43. Ra5 e5 44. Ke3 Nxf4 45. Nc3 Rb2 46. Ra1 Nxh5 47. Be2 Rb1 48. Ne4 Rg8 49. Bc4 Rg2 50. d4 Rf1 51. Rc1 exd4+ 52. Kxd4 Rfg1 53. Nf6 Bc5+ 54. Kxc5 Nxf6 55. Bf7 Rf1 56. Rb1 Nh5 57. Re1 Rf4 58. Rc1 Rf5+ 59. Kc6 Rgf2 60. Rf1 Ra2 61. Bxa2 Rc5+ 62. Kxc5 Nf6 63. Bd5 h5 64. Bb7 h4 65. Rb1 Ne8 66. Kd5 h3 67. Kc4 Kd7 68. Rb4 Ke7 69. Kd4 Ke6 70. Bf3 Kf7 71. Bc6 Kg8 72. Bg2 Nc7 73. Rb1 h2 74. Be4 Kg7 75. bxc7 Kh6 76. Bd3 h1=N 77. b6 Nf2 78. Rd1 Kg7 79. Kc4 Nh3 80. Bg6 Kh6 81. Kb3 Nf2 82. Ka3 Nxd1 83. c8=Q Kxg6 84. b7 Kg7 85. b8=R Nb2 86. Rb7+ Kg6 87. Re7 Kg5 88. Re3 Kh6 89. Qb7 Nd3 90. Qb6+ Kg7 91. Qd6 Kh7 92. Re4 Nf4 93. Ka4 Kh8 94. Qe5+ Kh7 95. Qe7+ Kg6 96. Re6+ Kh5 97. Qg7 Kh4 98. Kb5 Kh3 99. Re7 Nd5 100. Ka5 Nb6 101. Ka6 Nd5 102. Qg1 Ne3 103. Qg3+ Kxg3 104. Kb7 Ng2 105. Kc7 Ne3 106. Kd7 Kf3 107. Rh7 Kf2 108. Kd6 Nd1 109. Kd5 Kf1 110. Rh3 Ke2 111. Kd6 Nb2 112. Kc5 Ke1 113. Rh5 Kd2 114. Rh3 Kc2 115. Rd3 Kb1 116. Rd8 Ka1 117. Rd5 Ka2 118. Rd6 Ka3 119. Rd1 Ka2 120. Rb1 Na4+ 121. Kb5 Nc3+ 122. Kc4 Kxb1
 1. e4 d5 2. g4 h5 3. Bg2 Nc6 4. g5 f6 5. b4 Nb8 6. Kf1 Bg4 7. Bh3 Nd7 8. d3 a5 9. Ke1 Rh6 10. Ne2 Nb8 11. c3 Qc8 12. Bb2 a4 13. c4 Rg6 14. Rf1 e6 15. Nc1 Bf3 16. exd5 Bh1 17. Qb3 a3 18. Qa4+ Kf7 19. Bg4 Ra7 20. Rg1 Qd8 21. f4 Qd7 22. Bxf6 Ne7 23. Ne2 c6 24. Qc2 Ke8 25. Qd1 Ra4 26. d4 Qd8 27. dxe6 gxf6 28. Ng3 h4 29. Qb3 Rg7 30. Be2 Nd7 31. Qxa3 Qb8 32. gxf6 c5 33. Qxa4 h3 34. bxc5 Rg6 35. Kf1 Kd8 36. Bg4 Nxc5 37. Qe8+ Kc7 38. Nxh1 Nxe6 39. Qc8+ Kb6 40. Qxe6+ Qd6 41. Qe1 Qe5 42. Rg3 Nc6 43. Qe2 Nd8 44. Qf3 Rg5 45. Qe3 Qxe3 46. Bf5 Kc7 47. d5 Rg6 48. Na3 Qxg3 49. Bb1 Rg8 50. c5 Qg5 51. Bd3 Qh5 52. Bf5 Qf3+ 53. Nf2 Qe2+ 54. Kxe2 Rg5 55. Kf1 Rg6 56. Be6 Bg7 57. Ke1 Bh6 58. Kd1 Bg7 59. Ke2 Bh6 60. Bxh3 b5 61. Nc2 Rg3 62. Nh1 Nf7 63. Bc8 Rg6 64. c6 Bxf4 65. h4 Bh6 66. Na3 Rg4 67. Rg1 Rf4 68. Rg8 Rf3 69. Rf8 Bc1 70. Bd7 Be3 71. Kxf3 Ba7 72. Nc4 Ng5+ 73. Kg2 Nh3 74. h5 Bg1 75. Bc8 Nf2 76. Nb6 Kd6 77. Nxf2 Bxf2 78. Kh1 Bxb6 79. f7 Ke7 80. Bh3 Kd6 81. Bd7 Kxd5 82. a3 Ba7 83. Rg8 Bc5 84. Be6+ Ke5 85. Rh8 Kd6 86. Bf5 b4 87. Kg2 Ke7 88. Rf8 Bd4 89. Bb1 Kd6 90. Rd8+ Kc7 91. Rf8 Be5 92. Rh8 Bg3 93. f8=B Kb8 94. Rh7 Bh2 95. Rc7 Bg1 96. Ba2 Bf2 97. Bg7 Bc5 98. Bh6 Kxc7 99. Kh3 Kxc6 100. Bc4 Kb6 101. Bb5 Bf2 102. Be2 Kc7 103. Bb5 Kd6 104. Bf8+ Kd5 105. Kg2 Bg3 106. Bc6+ Ke5 107. Bf3 Kf5 108. Bd5 Kg5 109. Ba8 Kxh5 110. Bxb4 Kg4 111. Bd2 Kh5 112. Be1 Bxe1 113. Bd5 Kh4 114. Bb3 Bb4 115. Kg1 Ba5 116. Be6 Bd8 117. Kg2 Bb6 118. Bc4 Bd8 119. Kh1 Kg4 120. Bf1 Be7 121. a4 Bc5 122. Bd3 Kh3 123. Bb1 Be7 124. Kg1 Bf6 125. Bg6 Be5 126. Bh5 Bd4+ 127. Kf1 Ba1 128. Kf2 Bd4+
 1. e4 d5 2. Qe2 e6 3. Qa6 dxe4 4. Bd3 Qf6 5. Qb5+ c6 6. a4 Be7 7. Nf3 Qg5 8. Bf1 Kd8 9. b4 Nf6 10. Qa5+ Kd7 11. Nc3 e3 12. Qxa7 Re8 13. Rb1 Qc5 14. Ba3 Qxb4 15. Qa6 Qd6 16. Ne5+ Qxe5 17. Qc4 Bc5 18. fxe3 b6 19. Qxc5 Ne4 20. Qxe5 g6 21. Bb2 Ra6 22. d4 h6 23. Qc5 Nf2 24. Na2 Kd8 25. Qa5 Nd7 26. Qxa6 Nc5 27. Qxc8+ Ke7 28. Nc1 Rh8 29. Nd3 Kf6 30. Bc1 Rd8 31. h4 g5 32. Rb3 Nxh1 33. g3 Nxg3 34. Qa6 Ne2 35. hxg5+ Kf5 36. Ra3 Nxa6 37. Kxe2 Rd7 38. Ra1 Kg6 39. Nf2 h5 40. Nh3 Re7 41. Bd2 Re8 42. a5 Rh8 43. Ng1 Kf5 44. Ke1 Ra8 45. Bc4 bxa5 46. Be2 Rf8 47. Bb5 Nc7 48. Ra4 Re8 49. c4 Rf8 50. Bc1 Re8 51. e4+ Kxe4 52. Bd2 Re7 53. Nh3 Kf5 54. Ba6 h4 55. Nf4 Kg4 56. Nh3 f6 57. Rxa5 Na8 58. d5 Ra7 59. gxf6 Kf3 60. d6 Nc7 61. Bc3 Na8 62. f7 Kg4 63. Bb7 Kf3 64. Ng1+ Ke4 65. Rg5 Ra4 66. Rh5 Ke3 67. Rc5 Kf4 68. Ke2 Kg3 69. f8=B Rb4 70. Bd4 Rb3 71. Kd1 Rc3 72. Bxa8 Rc1+ 73. Kxc1 Kg2 74. Bb2 Kf2 75. Ba1 Kf1 76. Rb5 c5 77. Bh1 Ke1 78. Bc6 h3 79. Rb3 Kf2 80. Rb6 Kg3 81. Be8 Kh4 82. Bd4 Kg3 83. Be7 e5 84. Bc3 Kf2 85. Kd2 Kf1 86. Bb2 e4 87. Bd4 Kg2 88. Bf2 h2 89. Ke1 h1=N 90. Rc6 Nxf2 91. Bf7 Kg3 92. Bd5 Nd1 93. Bg5 Kh2 94. Bg8 Nc3 95. Kf1 Nb5 96. Nf3+ exf3 97. Bd2 Na7 98. Bh6 Nb5 99. cxb5 Kh1 100. Bc4 Kh2 101. Be6 Kh1 102. Rc8 f2 103. Be3 c4 104. Bc1 Kh2 105. Rg8 c3 106. Ke2 f1=N 107. Rg7 Nd2 108. Ba3 Kh1 109. Rc7 Kh2 110. Bf5 Nc4 111. Bc2 Ne5 112. Bb2 Ng4 113. Ba4 Nf6 114. Rc8 Ng4 115. Rxc3 Nf2 116. Kxf2 Kh1 117. Ke1 Kh2 118. Bc1 Kg2 119. Bc2 Kh1 120. Bg5 Kg2 121. Bh6 Kh2 122. Kd1 Kg2 123. Ba4 Kh2 124. Rc8 Kh3 125. Rh8 Kg4 126. Bd2 Kf5 127. b6 Kg6 128. d7 Kf6
 1. e4 d5 2. c4 Qd7 3. Nf3 e5 4. Nd4 dxc4 5. a3 Nh6 6. Nc3 Nc6 7. Be2 Qf5 8. Bd3 Qf4 9. h4 Rb8 10. Na2 Qg5 11. Nb3 Qd8 12. Rf1 Ng8 13. Qg4 Nb4 14. Bc2 Ra8 15. Bd3 a6 16. Bc2 g5 17. Rg1 Qe7 18. Bd1 Qf6 19. hxg5 Bf5 20. Bc2 h5 21. Qxh5 Be7 22. exf5 Kd8 23. d3 Rh7 24. Rb1 Qc6 25. Ra1 Kd7 26. Bd2 Bd8 27. Bc1 b6 28. Qh1 Qb7 29. Rf1 Rh6 30. g6 cxb3 31. Qg1 Ke7 32. f6+ Ke6 33. Nc3 Na2 34. d4 Nxf6 35. dxe5 Qe4+ 36. Kd1 Qd3+ 37. Bxd3 b5 38. Ke2 c6 39. Be3 Kxe5 40. Rab1 Rh1 41. Rbd1 fxg6 42. Ke1 Nd5 43. Ba7 Kf4 44. Ne2+ Kg5 45. Kd2 b4 46. Nc1 Be7 47. Bxg6 Nc7 48. g4 Ne8 49. a4 Rh4 50. Bxe8 c5 51. Qg2 Kf6 52. Qf3+ Ke5 53. Bb8+ Rxb8 54. Qd5+ Kf4 55. a5 Rh6 56. Qd8 Ke4 57. Rg1 Rh3 58. Qc7 Bh4 59. Bf7 Re8 60. Qd7 Bg5+ 61. Ke2 Bxc1 62. Ke1 Re6 63. Qd5+ Kf4+ 64. Qe4+ Rxe4+ 65. Kf1 Rh6 66. Rd8 Rhe6 67. Rd2 Rc4 68. Rd4+ Ke5 69. Rxc4 Bh6 70. Rg2 Rc6 71. Rc1 Bg7 72. Ke2 c4 73. Rc2 Bh8 74. f4+ Kd4 75. Rg1 bxc2 76. Be6 c1=Q 77. g5 Nc3+ 78. Kf2 Kc5 79. Bc8 Na4 80. b3 Qe3+ 81. Kxe3 Kd5 82. Bd7 cxb3 83. Re1 Rc1 84. Kf2 Rc6 85. Ra1 Kc5 86. Ke2 Bd4 87. Kf1 Bh8 88. Bg4 Nc3 89. g6 Na4 90. Bf5 Nc3 91. Bc8 Bf6 92. Rc1 b2 93. Ke1 Be7 94. Bh3 Kd5 95. Bg2+ Ne4 96. Rc5+ Kd4 97. f5 Rb6 98. Kd1 Nc3+ 99. Ke1 Rb5 100. Re5 Bf6 101. Bf3 Rc5 102. g7 Bh4+ 103. Kf1 Nb1 104. Bh1 Rc7 105. Bf3 Ra7 106. Rb5 Nd2+ 107. Kg1 b1=R+ 108. Kg2 Bf6 109. g8=N Kd3 110. Be2+ Ke4 111. Bh5 Be7 112. f6 Rb7 113. Be8 Rb6 114. Kf2 Rd1 115. f7 Rg6 116. Nf6+ Kd4 117. Rg5 Bc5 118. f8=Q Kc3+ 119. Kg2 Re1 120. Ng4 Rb1 121. Re5 Ne4 122. Rh5 Rf1 123. Qg8 Rh6 124. Rh2 Rd1 125. Ne3 Be7 126. Rh3 Kd2 127. Ng4 Rh1 128. Ba4 Nc3
 1. e4 d5 2. h4 e6 3. Be2 Ke7 4. a3 f6 5. g4 g6 6. b3 d4 7. Nh3 b6 8. f4 d3 9. Nc3 Qd5 10. Na2 Qe5 11. cxd3 Bb7 12. Nf2 b5 13. Rh2 Nc6 14. f5 Bg7 15. b4 Qg3 16. fxe6 Nh6 17. a4 Kd6 18. Rg2 a6 19. Rh2 Ra7 20. e5+ Ke7 21. Rb1 Nf7 22. Ba3 Ke8 23. a5 Bc8 24. exf6 Nxa5 25. Qc2 Qxd3 26. Nxd3 Nd8 27. Rh3 Kf8 28. Bf3 Bd7 29. Qc6 Ke8 30. Qc1 Ra8 31. Nc5 Kf8 32. d4 Rg8 33. Nb3 Ra7 34. Qc2 c5 35. Bd5 c4 36. Nc3 Bh8 37. Rd1 Bxf6 38. Ne2 Rh8 39. Qd2 Rc7 40. Rd3 Nac6 41. e7+ Nxe7 42. Qc1 Rc5 43. Bh1 Nd5 44. Qa1 Nc3 45. Rxc3 Nb7 46. Bd5 Bd8 47. Rc2 Ke8 48. Qc3 cxb3 49. Qh3 Rc3 50. Qe3+ Be6 51. Rxc3 Rf8 52. Rc5 Bf6 53. Qc1 Bg8 54. Rc3 h6 55. Rc4 Kd7 56. Bxb7 Bf7 57. Qb1 Be7 58. Qxb3 g5 59. Rc3 Bxb4 60. Qa4 Bc5 61. Bb2 Be6 62. Qb4 Bd6 63. Bc1 Bb8 64. Be4 Rf7 65. Bb1 Bxg4 66. Rg3 Rf5 67. Bxg5 Re5 68. Rc1 Ke6 69. Be3 Kd5 70. Qf8 Bh3 71. Rxh3 Rxe3 72. Qf2 Re8 73. Kd2 Rxe2+ 74. Qxe2 a5 75. Rh2 h5 76. Qe8 Ba7 77. Re1 Bxd4 78. Be4+ Kd6 79. Rg1 Ba1 80. Rxa1 Kc5 81. Bf3 b4 82. Qe4 Kd6 83. Qg4 Ke7 84. Qg8 Kd7 85. Ke3 Kd6 86. Qb3 Kd7 87. Kd4 Kc8 88. Qa2 a4 89. Qe2 Kc7 90. Rf1 Kb6 91. Bg2 Ka5 92. Rh3 b3 93. Qe6 Kb5 94. Bb7 b2 95. Ra3 Kb4 96. Bd5 Kxa3 97. Kd3 b1=Q+ 98. Ke3 Qc2 99. Qa6 Qc4 100. Qa7 Qf4+ 101. Rxf4 Kb2 102. Qe7 Kc3 103. Qd8 Kb2 104. Kd4 Ka1 105. Ke3 Kb1 106. Rf8 Kb2 107. Qf6+ Kc1 108. Qd4 Kc2 109. Rb8 Kc1 110. Qa1+ Kc2 111. Bf7 a3 112. Kf2 Kd3 113. Rc8 a2 114. Qf1+ Kd4 115. Kg1 Ke4 116. Kh2 a1=N 117. Kg3 Kd4 118. Rh8 Nb3 119. Qd3+ Kc5 120. Rg8 Na1 121. Qd2 Nc2 122. Rd8 Nb4 123. Qd4+ Kb5 124. Qh8 Nd5 125. Qb2+ Nb4 126. Qf2 Nd5 127. Qe3 Nf6 128. Bg8 Ng4
(10 rows)
*/


SELECT COUNT(*) FROM chessgame WHERE hasopening(pgn,'1. e4 d6');
/*
Output
 SELECT count(*) FROM chessgame WHERE hasopening(pgn,'1. e4 d6') LIMIT 10;
 count
-------
    53
(1 row)
*/